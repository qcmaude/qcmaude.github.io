{
  "version": 3,
  "file": "UISrefActive.js",
  "sourceRoot": "",
  "sources": [
    "@uirouter/react/components/UISrefActive.tsx"
  ],
  "names": [],
  "mappings": ";;;;;;;;;;;AAAA,yDAAyD;AACzD,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,YAAY,EAAE,MAAM,OAAO,CAAC;AACjF,OAAO,KAAK,WAAW,MAAM,YAAY,CAAC;AAE1C,OAAO,EAAE,wBAAwB,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AAE/D,cAAc;AACd,IAAI,UAAU,GAAG,WAAW,CAAC;AAU7B,mBAAmB;AACnB,IAAM,kBAAkB,GAAmB,cAAM,OAAA,cAAM,OAAA,SAAS,EAAT,CAAS,EAAf,CAAe,CAAC;AACjE,MAAM,CAAC,IAAM,mBAAmB,GAAG,KAAK,CAAC,aAAa,CAAiB,kBAAkB,CAAC,CAAC;AAsB3F;;;;;;;;;;;;;;;;;;GAkBG;AACH,MAAM,UAAU,YAAY,CAAC,EAAsE;QAApE,sBAAQ,EAAE,wBAAS,EAAE,uBAAmB,EAAE,gBAAK;IACpE,IAAA,uCAAY,CAAiB;IACrC,IAAM,kBAAkB,GAAG,UAAU,CAAC,mBAAmB,CAAC,CAAC;IAE3D,wDAAwD;IAClD,IAAA,iBAAyD,EAAxD,eAAO,EAAE,kBAA+C,CAAC;IAChE,IAAM,YAAY,GAAG,wBAAwB,EAAE,CAAC;IAEhD,IAAM,iBAAiB,GAAG,OAAO,CAAC;QAChC,OAAO,OAAO,CAAC,IAAI,CAAC,UAAC,EAAqB;gBAAnB,wBAAS,EAAE,kBAAM;YACtC,OAAO,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAC/F,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC,CAAC;IAEjD,IAAM,YAAY,GAAG,WAAW,CAC9B,UAAC,SAAiB,EAAE,MAAc;QAChC,IAAM,gBAAgB,GAAG,kBAAkB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAC/D,IAAM,WAAW,GAAG,EAAE,SAAS,WAAA,EAAE,MAAM,QAAA,EAAE,CAAC;QAC1C,UAAU,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,EAA3B,CAA2B,CAAC,CAAC;QACnD,OAAO;YACL,gBAAgB,EAAE,CAAC;YACnB,UAAU,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,KAAK,WAAW,EAAjB,CAAiB,CAAC,EAAtC,CAAsC,CAAC,CAAC;QAChE,CAAC,CAAC;IACJ,CAAC,EACD,CAAC,kBAAkB,CAAC,CACrB,CAAC;IAEF,wDAAwD;IACxD,IAAM,yBAAyB,GAAG,iBAAiB;QACjD,CAAC,CAAC,YAAY,CAAC,QAAQ,wBAChB,QAAQ,CAAC,KAAK,KACjB,SAAS,EAAE,UAAU,CAAC,SAAS,EAAE,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,YAAY,CAAC,IACxE;QACJ,CAAC,CAAC,QAAQ,CAAC;IAEb,OAAO,oBAAC,mBAAmB,CAAC,QAAQ,IAAC,KAAK,EAAE,YAAY,IAAG,yBAAyB,CAAgC,CAAC;AACvH,CAAC",
  "sourcesContent": [
    "/** @packageDocumentation @reactapi @module components */\nimport * as React from 'react';\nimport { useState, useCallback, useContext, useMemo, cloneElement } from 'react';\nimport * as _classNames from 'classnames';\n\nimport { useCurrentStateAndParams, useRouter } from '../hooks';\n\n/** @hidden */\nlet classNames = _classNames;\n\nexport interface UISrefActiveState {\n  stateName: string;\n  params: object;\n}\n\n/** @hidden */\nexport type AddStateInfoFn = (to: string, params: { [key: string]: any }) => () => void;\n\n/** @internalapi */\nconst rootAddStateInfoFn: AddStateInfoFn = () => () => undefined;\nexport const UISrefActiveContext = React.createContext<AddStateInfoFn>(rootAddStateInfoFn);\n\nexport interface UISrefActiveProps {\n  /**\n   * The class string to apply when the state is active (i.e. `\"menu-item-active\"`)\n   */\n  class?: string;\n  /**\n   * Whether the target state of the child [[UISref]] should match exactly the state or could also be a child state.\n   * When set to `true`, if state params are supplied then they will be tested for strict equality against the current active url params, so all params must match with none missing and no extras.\n   */\n  exact?: Boolean;\n  /**\n   * The component to apply the active class to. It should be a [[UISref]] or any node with [[UISref]] descendant\n   */\n  children?: any;\n  /**\n   * Any class will be passed down to its child component\n   */\n  className?: string;\n}\n\n/**\n * A component working alongside `[[UISref]]` to add classes to its child element when one of the included `[[UISref]]`'s state is active, and removing them when it is inactive.\n *\n * The primary use-case is to simplify the special appearance of navigation menus relying on `[[<UISref>]]`, by having the \"active\" state's menu button appear different, distinguishing it from the inactive menu items.\n *\n * It will register **every** nested `[[<UISref>]]` and add the class to its child every time one of the states is active.\n *\n * ```jsx\n * <UISrefActive class=\"active-item\">\n *   <UISref to=\"homestate\"><a class=\"menu-item\">Home</a></UISref>\n * </UISrefActive>\n *\n * // rendered when state is inactive\n * <a href=\"/path/to/homestate\" class=\"menu-item\">Home</a>\n *\n * // rendered when state is active\n * <a href=\"/path/to/homestate\" class=\"menu-item active-item\">Home</a>\n * ```\n */\nexport function UISrefActive({ children, className, class: classToApply, exact }: UISrefActiveProps) {\n  const { stateService } = useRouter();\n  const parentAddStateInfo = useContext(UISrefActiveContext);\n\n  // keep track of states to watch and their activeClasses\n  const [uiSrefs, setUiSrefs] = useState<UISrefActiveState[]>([]);\n  const currentState = useCurrentStateAndParams();\n\n  const isAnyUiSrefActive = useMemo(() => {\n    return uiSrefs.some(({ stateName, params }) => {\n      return exact ? stateService.is(stateName, params) : stateService.includes(stateName, params);\n    });\n  }, [uiSrefs, exact, stateService, currentState]);\n\n  const addStateInfo = useCallback(\n    (stateName: string, params: object) => {\n      const parentDeregister = parentAddStateInfo(stateName, params);\n      const addedUiSref = { stateName, params };\n      setUiSrefs(uiSrefs => uiSrefs.concat(addedUiSref));\n      return () => {\n        parentDeregister();\n        setUiSrefs(uiSrefs => uiSrefs.filter(x => x !== addedUiSref));\n      };\n    },\n    [parentAddStateInfo]\n  );\n\n  // If any active class is defined, apply it the children\n  const childrenWithActiveClasses = isAnyUiSrefActive\n    ? cloneElement(children, {\n        ...children.props,\n        className: classNames(className, children.props.className, classToApply),\n      })\n    : children;\n\n  return <UISrefActiveContext.Provider value={addStateInfo}>{childrenWithActiveClasses}</UISrefActiveContext.Provider>;\n}\n"
  ]
}